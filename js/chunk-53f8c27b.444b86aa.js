(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-53f8c27b"],{"3e1f":function(e,t,s){"use strict";s.r(t);s("d9e2");var a=s("c24f"),r={name:"index",props:["userInfo"],data(){const e=(e,t,s)=>{if(!t)return s(new Error("Please enter password"));""===t||/^(?=.*[0-9\!@#\$%\^&\*])(?=.*[a-zA-Z]).{6,16}$/.test(t)?s():s(new Error("Please enter a password with 6-16 digits that cannot be pure numbers or letters."))};return{newApi:this.$route.params.apiKey||"",activeName:this.$route.params.type||"Account",email:this.$route.params.email||"",updateAccountform:{firstName:this.$route.params.firstName||"",lastName:this.$route.params.lastName||""},updatePassform:{oldPassword:"",newPassword:"",confirmNewPassword:""},updatePassRules:{oldPassword:[{required:!0,trigger:"blur",validator:e}],newPassword:[{required:!0,trigger:"blur",validator:e}],confirmNewPassword:[{required:!0,trigger:"blur",validator:(e,t,s)=>{""===t?s(new Error("Please enter the password again")):t!==this.updatePassform.newPassword?s(new Error("The passwords entered twice do not match")):s()}}]},id:this.$route.params.id||null}},watch:{"$route.params.type":{handler(e,t){this.activeName=e}},userInfo:function(e){this.updateAccountform.firstName=e.firstName,this.updateAccountform.lastName=e.lastName,this.newApi=e.apiKey,this.email=e.email,this.id=e.id}},methods:{handleClick(e){this.$router.push({name:"settings",params:{type:e.label}})},generateApi(){this.$confirm("Generating a new API key will disable your current key. Do you want to continue?","Confirm New API Key Generation",{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"warning"}).then((async()=>{const e=this.$loading({text:"loading..."});try{const{success:t,data:s,message:r}=await Object(a.f)(this.id);t?(this.$message.success("successful operation"),this.newApi=s):this.$message.error(r),e.close()}catch(t){e.close()}}))},async updatePass(){this.isSubmit||(this.isSubmit=!0,this.$refs.updatePassform.validate((async e=>{if(!e)return this.isSubmit=!1,!1;{const e=this.$loading({text:"loading..."});try{const{success:t,message:s}=await Object(a.g)(this.updatePassform,this.id);t?(this.$refs.updatePassform.resetFields(),this.$message.success("successfully modified")):this.$message.error(s),setTimeout((()=>{e.close()}),200)}catch(t){setTimeout((()=>{e.close()}),200)}this.isSubmit=!1}})))},async updateAccount(){this.isSubmit||(this.isSubmit=!0,this.$refs.updateAccountform.validate((async e=>{if(!e)return this.isSubmit=!1,!1;{const e=this.$loading({text:"loading..."});try{const{success:t,message:s}=await Object(a.e)(this.updateAccountform,this.id);t?this.$message.success("successfully modified"):this.$message.error(s),setTimeout((()=>{e.close()}),200)}catch(t){setTimeout((()=>{e.close()}),200)}this.isSubmit=!1}})))}}},o=(s("be36"),s("2877")),i=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",[t("el-tabs",{staticClass:"accout",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"Account",name:"Account"}},[t("el-card",{staticClass:"box-card mb10"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Personal Details")])]),t("div",{staticClass:"text item"},[t("el-form",{ref:"updateAccountform",attrs:{model:e.updateAccountform,"label-width":"160px","label-position":"left"}},[t("el-form-item",{attrs:{label:"E-mail"}},[t("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),t("el-form-item",{attrs:{label:"First Name",prop:"firstName",rules:[{required:!0,message:"Please enter your first name."}]}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateAccountform.firstName,callback:function(t){e.$set(e.updateAccountform,"firstName",t)},expression:"updateAccountform.firstName"}})],1),t("el-form-item",{attrs:{label:"Last Name",prop:"lastName",rules:[{required:!0,message:"Please enter your last name."}]}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateAccountform.lastName,callback:function(t){e.$set(e.updateAccountform,"lastName",t)},expression:"updateAccountform.lastName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.updateAccount}},[e._v("save")])],1)],1)],1)]),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Reset Password")])]),t("div",{staticClass:"text item"},[t("el-form",{ref:"updatePassform",attrs:{model:e.updatePassform,"label-width":"160px","label-position":"left",rules:e.updatePassRules}},[t("el-form-item",{attrs:{label:"OldPassword",prop:"oldPassword"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.updatePassform.oldPassword,callback:function(t){e.$set(e.updatePassform,"oldPassword",t)},expression:"updatePassform.oldPassword"}})],1),t("el-form-item",{attrs:{label:"NewPassword",prop:"newPassword"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.updatePassform.newPassword,callback:function(t){e.$set(e.updatePassform,"newPassword",t)},expression:"updatePassform.newPassword"}})],1),t("el-form-item",{attrs:{label:"ConfirmNewPassword",prop:"confirmNewPassword"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.updatePassform.confirmNewPassword,callback:function(t){e.$set(e.updatePassform,"confirmNewPassword",t)},expression:"updatePassform.confirmNewPassword"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.updatePass}},[e._v("save")])],1)],1)],1)])],1),t("el-tab-pane",{attrs:{label:"API",name:"API"}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Generate API Key")])]),t("div",{staticClass:"text item"},[t("el-form",[t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.newApi,callback:function(t){e.newApi=t},expression:"newApi"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.generateApi}},[e._v("Generate")])],1)],1)],1)])],1)],1)],1)}),[],!1,null,"87ed539c",null);t.default=i.exports},be36:function(e,t,s){"use strict";s("cb39")},c24f:function(e,t,s){"use strict";s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return o})),s.d(t,"g",(function(){return i})),s.d(t,"f",(function(){return l})),s.d(t,"e",(function(){return n})),s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return u}));var a=s("d5db");const r=e=>a.a.post("/api/user/signup",e),o=e=>a.a.post("/api/user/login",e),i=(e,t)=>a.a.post("/api/user/"+t+"/update/password",e),l=e=>a.a.post("/api/user/"+e+"/update/api/key"),n=(e,t)=>a.a.post("/api/user/"+t+"/update",e),c=e=>a.a.get("/api/user/"+e.id,e),u=e=>a.a.get("/api/user/level/info",e)},cb39:function(e,t,s){}}]);